{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":42,"index":202}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n\n    // Load user from storage on mount\n    (0, _react.useEffect)(() => {\n      loadUser();\n    }, []);\n    const loadUser = async () => {\n      try {\n        const [token, userData] = await AsyncStorage.default.multiGet(['auth_token', 'user_data']);\n        if (token[1] && userData[1]) {\n          setUser(JSON.parse(userData[1]));\n        }\n      } catch (error) {\n        console.error('Error loading user:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async credentials => {\n      try {\n        const response = await _servicesApi.authApi.login(credentials);\n        await AsyncStorage.default.multiSet([['auth_token', response.access_token], ['user_data', JSON.stringify(response.user)]]);\n        setUser(response.user);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const signup = async userData => {\n      try {\n        const response = await _servicesApi.authApi.register(userData);\n        await AsyncStorage.default.multiSet([['auth_token', response.access_token], ['user_data', JSON.stringify(response.user)]]);\n        setUser(response.user);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Signup failed');\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.multiRemove(['auth_token', 'user_data']);\n        setUser(null);\n      } catch (error) {\n        console.error('Error logging out:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        isLoading,\n        isAuthenticated: !!user,\n        login,\n        signup,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":102,"map":[[13,2,17,0,"Object"],[13,8,17,0],[13,9,17,0,"defineProperty"],[13,23,17,0],[13,24,17,0,"exports"],[13,31,17,0],[14,4,17,0,"enumerable"],[14,14,17,0],[15,4,17,0,"get"],[15,7,17,0],[15,18,17,0,"get"],[15,19,17,0],[16,6,17,0],[16,13,17,0,"AuthProvider"],[16,25,17,0],[17,4,17,0],[18,2,17,0],[19,2,90,0,"Object"],[19,8,90,0],[19,9,90,0,"defineProperty"],[19,23,90,0],[19,24,90,0,"exports"],[19,31,90,0],[20,4,90,0,"enumerable"],[20,14,90,0],[21,4,90,0,"get"],[21,7,90,0],[21,18,90,0,"get"],[21,19,90,0],[22,6,90,0],[22,13,90,0,"useAuth"],[22,20,90,0],[23,4,90,0],[24,2,90,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_servicesApi"],[28,18,3,0],[28,21,3,0,"require"],[28,28,3,0],[28,29,3,0,"_dependencyMap"],[28,43,3,0],[29,2,3,42],[29,6,3,42,"_reactJsxDevRuntime"],[29,25,3,42],[29,28,3,42,"require"],[29,35,3,42],[29,36,3,42,"_dependencyMap"],[29,50,3,42],[30,2,15,0],[30,8,15,6,"AuthContext"],[30,19,15,17],[30,35,15,20],[30,39,15,20,"createContext"],[30,45,15,33],[30,46,15,33,"createContext"],[30,59,15,33],[30,61,15,63,"undefined"],[30,70,15,72],[30,71,15,73],[31,2,17,7],[31,8,17,13,"AuthProvider"],[31,20,17,25],[31,23,17,28,"AuthProvider"],[31,24,17,29],[32,4,17,31,"children"],[33,2,17,65],[33,3,17,66],[33,8,17,71],[34,4,18,2],[34,10,18,8],[34,11,18,9,"user"],[34,15,18,13],[34,17,18,15,"setUser"],[34,24,18,22],[34,25,18,23],[34,28,18,26],[34,32,18,26,"useState"],[34,38,18,34],[34,39,18,34,"useState"],[34,47,18,34],[34,49,18,48],[34,53,18,52],[34,54,18,53],[35,4,19,2],[35,10,19,8],[35,11,19,9,"isLoading"],[35,20,19,18],[35,22,19,20,"setIsLoading"],[35,34,19,32],[35,35,19,33],[35,38,19,36],[35,42,19,36,"useState"],[35,48,19,44],[35,49,19,44,"useState"],[35,57,19,44],[35,59,19,45],[35,63,19,49],[35,64,19,50],[37,4,21,2],[38,4,22,2],[38,8,22,2,"useEffect"],[38,14,22,11],[38,15,22,11,"useEffect"],[38,24,22,11],[38,26,22,12],[38,32,22,18],[39,6,23,4,"loadUser"],[39,14,23,12],[39,15,23,13],[39,16,23,14],[40,4,24,2],[40,5,24,3],[40,7,24,5],[40,9,24,7],[40,10,24,8],[41,4,26,2],[41,10,26,8,"loadUser"],[41,18,26,16],[41,21,26,19],[41,27,26,19,"loadUser"],[41,28,26,19],[41,33,26,31],[42,6,27,4],[42,10,27,8],[43,8,28,6],[43,14,28,12],[43,15,28,13,"token"],[43,20,28,18],[43,22,28,20,"userData"],[43,30,28,28],[43,31,28,29],[43,34,28,32],[43,40,28,38,"AsyncStorage"],[43,52,28,50],[43,53,28,50,"default"],[43,60,28,50],[43,61,28,51,"multiGet"],[43,69,28,59],[43,70,28,60],[43,71,28,61],[43,83,28,73],[43,85,28,75],[43,96,28,86],[43,97,28,87],[43,98,28,88],[44,8,29,6],[44,12,29,10,"token"],[44,17,29,15],[44,18,29,16],[44,19,29,17],[44,20,29,18],[44,24,29,22,"userData"],[44,32,29,30],[44,33,29,31],[44,34,29,32],[44,35,29,33],[44,37,29,35],[45,10,30,8,"setUser"],[45,17,30,15],[45,18,30,16,"JSON"],[45,22,30,20],[45,23,30,21,"parse"],[45,28,30,26],[45,29,30,27,"userData"],[45,37,30,35],[45,38,30,36],[45,39,30,37],[45,40,30,38],[45,41,30,39],[45,42,30,40],[46,8,31,6],[47,6,32,4],[47,7,32,5],[47,8,32,6],[47,15,32,13,"error"],[47,20,32,18],[47,22,32,20],[48,8,33,6,"console"],[48,15,33,13],[48,16,33,14,"error"],[48,21,33,19],[48,22,33,20],[48,43,33,41],[48,45,33,43,"error"],[48,50,33,48],[48,51,33,49],[49,6,34,4],[49,7,34,5],[49,16,34,14],[50,8,35,6,"setIsLoading"],[50,20,35,18],[50,21,35,19],[50,26,35,24],[50,27,35,25],[51,6,36,4],[52,4,37,2],[52,5,37,3],[53,4,39,2],[53,10,39,8,"login"],[53,15,39,13],[53,18,39,16],[53,24,39,23,"credentials"],[53,35,39,52],[53,39,39,57],[54,6,40,4],[54,10,40,8],[55,8,41,6],[55,14,41,12,"response"],[55,22,41,20],[55,25,41,23],[55,31,41,29,"authApi"],[55,43,41,36],[55,44,41,36,"authApi"],[55,51,41,36],[55,52,41,37,"login"],[55,57,41,42],[55,58,41,43,"credentials"],[55,69,41,54],[55,70,41,55],[56,8,42,6],[56,14,42,12,"AsyncStorage"],[56,26,42,24],[56,27,42,24,"default"],[56,34,42,24],[56,35,42,25,"multiSet"],[56,43,42,33],[56,44,42,34],[56,45,43,8],[56,46,43,9],[56,58,43,21],[56,60,43,23,"response"],[56,68,43,31],[56,69,43,32,"access_token"],[56,81,43,44],[56,82,43,45],[56,84,44,8],[56,85,44,9],[56,96,44,20],[56,98,44,22,"JSON"],[56,102,44,26],[56,103,44,27,"stringify"],[56,112,44,36],[56,113,44,37,"response"],[56,121,44,45],[56,122,44,46,"user"],[56,126,44,50],[56,127,44,51],[56,128,44,52],[56,129,45,7],[56,130,45,8],[57,8,46,6,"setUser"],[57,15,46,13],[57,16,46,14,"response"],[57,24,46,22],[57,25,46,23,"user"],[57,29,46,27],[57,30,46,28],[58,6,47,4],[58,7,47,5],[58,8,47,6],[58,15,47,13,"error"],[58,20,47,23],[58,22,47,25],[59,8,48,6],[59,14,48,12],[59,18,48,16,"Error"],[59,23,48,21],[59,24,48,22,"error"],[59,29,48,27],[59,30,48,28,"response"],[59,38,48,36],[59,40,48,38,"data"],[59,44,48,42],[59,46,48,44,"detail"],[59,52,48,50],[59,56,48,54],[59,70,48,68],[59,71,48,69],[60,6,49,4],[61,4,50,2],[61,5,50,3],[62,4,52,2],[62,10,52,8,"signup"],[62,16,52,14],[62,19,52,17],[62,25,52,24,"userData"],[62,33,52,44],[62,37,52,49],[63,6,53,4],[63,10,53,8],[64,8,54,6],[64,14,54,12,"response"],[64,22,54,20],[64,25,54,23],[64,31,54,29,"authApi"],[64,43,54,36],[64,44,54,36,"authApi"],[64,51,54,36],[64,52,54,37,"register"],[64,60,54,45],[64,61,54,46,"userData"],[64,69,54,54],[64,70,54,55],[65,8,55,6],[65,14,55,12,"AsyncStorage"],[65,26,55,24],[65,27,55,24,"default"],[65,34,55,24],[65,35,55,25,"multiSet"],[65,43,55,33],[65,44,55,34],[65,45,56,8],[65,46,56,9],[65,58,56,21],[65,60,56,23,"response"],[65,68,56,31],[65,69,56,32,"access_token"],[65,81,56,44],[65,82,56,45],[65,84,57,8],[65,85,57,9],[65,96,57,20],[65,98,57,22,"JSON"],[65,102,57,26],[65,103,57,27,"stringify"],[65,112,57,36],[65,113,57,37,"response"],[65,121,57,45],[65,122,57,46,"user"],[65,126,57,50],[65,127,57,51],[65,128,57,52],[65,129,58,7],[65,130,58,8],[66,8,59,6,"setUser"],[66,15,59,13],[66,16,59,14,"response"],[66,24,59,22],[66,25,59,23,"user"],[66,29,59,27],[66,30,59,28],[67,6,60,4],[67,7,60,5],[67,8,60,6],[67,15,60,13,"error"],[67,20,60,23],[67,22,60,25],[68,8,61,6],[68,14,61,12],[68,18,61,16,"Error"],[68,23,61,21],[68,24,61,22,"error"],[68,29,61,27],[68,30,61,28,"response"],[68,38,61,36],[68,40,61,38,"data"],[68,44,61,42],[68,46,61,44,"detail"],[68,52,61,50],[68,56,61,54],[68,71,61,69],[68,72,61,70],[69,6,62,4],[70,4,63,2],[70,5,63,3],[71,4,65,2],[71,10,65,8,"logout"],[71,16,65,14],[71,19,65,17],[71,25,65,17,"logout"],[71,26,65,17],[71,31,65,29],[72,6,66,4],[72,10,66,8],[73,8,67,6],[73,14,67,12,"AsyncStorage"],[73,26,67,24],[73,27,67,24,"default"],[73,34,67,24],[73,35,67,25,"multiRemove"],[73,46,67,36],[73,47,67,37],[73,48,67,38],[73,60,67,50],[73,62,67,52],[73,73,67,63],[73,74,67,64],[73,75,67,65],[74,8,68,6,"setUser"],[74,15,68,13],[74,16,68,14],[74,20,68,18],[74,21,68,19],[75,6,69,4],[75,7,69,5],[75,8,69,6],[75,15,69,13,"error"],[75,20,69,18],[75,22,69,20],[76,8,70,6,"console"],[76,15,70,13],[76,16,70,14,"error"],[76,21,70,19],[76,22,70,20],[76,42,70,40],[76,44,70,42,"error"],[76,49,70,47],[76,50,70,48],[77,6,71,4],[78,4,72,2],[78,5,72,3],[79,4,74,2],[79,24,75,4],[79,28,75,4,"_reactJsxDevRuntime"],[79,47,75,4],[79,48,75,4,"jsxDEV"],[79,54,75,4],[79,56,75,5,"AuthContext"],[79,67,75,16],[79,68,75,17,"Provider"],[79,76,75,25],[80,6,76,6,"value"],[80,11,76,11],[80,13,76,13],[81,8,77,8,"user"],[81,12,77,12],[82,8,78,8,"isLoading"],[82,17,78,17],[83,8,79,8,"isAuthenticated"],[83,23,79,23],[83,25,79,25],[83,26,79,26],[83,27,79,27,"user"],[83,31,79,31],[84,8,80,8,"login"],[84,13,80,13],[85,8,81,8,"signup"],[85,14,81,14],[86,8,82,8,"logout"],[87,6,83,6],[87,7,83,8],[88,6,83,8,"children"],[88,14,83,8],[88,16,85,7,"children"],[89,4,85,15],[90,6,85,15,"fileName"],[90,14,85,15],[90,16,85,15,"_jsxFileName"],[90,28,85,15],[91,6,85,15,"lineNumber"],[91,16,85,15],[92,6,85,15,"columnNumber"],[92,18,85,15],[93,4,85,15],[93,11,86,26],[93,12,86,27],[94,2,88,0],[94,3,88,1],[95,2,90,7],[95,8,90,13,"useAuth"],[95,15,90,20],[95,18,90,23,"useAuth"],[95,19,90,23],[95,24,90,29],[96,4,91,2],[96,10,91,8,"context"],[96,17,91,15],[96,20,91,18],[96,24,91,18,"useContext"],[96,30,91,28],[96,31,91,28,"useContext"],[96,41,91,28],[96,43,91,29,"AuthContext"],[96,54,91,40],[96,55,91,41],[97,4,92,2],[97,8,92,6,"context"],[97,15,92,13],[97,20,92,18,"undefined"],[97,29,92,27],[97,31,92,29],[98,6,93,4],[98,12,93,10],[98,16,93,14,"Error"],[98,21,93,19],[98,22,93,20],[98,67,93,65],[98,68,93,66],[99,4,94,2],[100,4,95,2],[100,11,95,9,"context"],[100,18,95,16],[101,2,96,0],[101,3,96,1],[102,0,96,2],[102,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadUser","login","signup","logout","useAuth"],"mappings":"AAA;4BCgB;YCK;GDE;mBEE;GFW;gBGE;GHW;iBIE;GJW;iBKE;GLO;CDgB;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}