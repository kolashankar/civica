{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":42,"index":202}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n\n    // Load user from storage on mount\n    (0, _react.useEffect)(() => {\n      loadUser();\n    }, []);\n    const loadUser = async () => {\n      try {\n        const [token, userData] = await AsyncStorage.default.multiGet(['auth_token', 'user_data']);\n        if (token[1] && userData[1]) {\n          setUser(JSON.parse(userData[1]));\n        }\n      } catch (error) {\n        console.error('Error loading user:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async credentials => {\n      try {\n        const response = await _servicesApi.authApi.login(credentials);\n        await AsyncStorage.default.multiSet([['auth_token', response.access_token], ['user_data', JSON.stringify(response.user)]]);\n        setUser(response.user);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const signup = async userData => {\n      try {\n        const response = await _servicesApi.authApi.register(userData);\n        await AsyncStorage.default.multiSet([['auth_token', response.access_token], ['user_data', JSON.stringify(response.user)]]);\n        setUser(response.user);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Signup failed');\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.multiRemove(['auth_token', 'user_data']);\n        setUser(null);\n      } catch (error) {\n        console.error('Error logging out:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        isLoading,\n        isAuthenticated: !!user,\n        login,\n        signup,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"YajQB7LURzRD+QP5gw0+K2TZIWA=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":111,"map":[[15,2,17,0,"Object"],[15,8,17,0],[15,9,17,0,"defineProperty"],[15,23,17,0],[15,24,17,0,"exports"],[15,31,17,0],[16,4,17,0,"enumerable"],[16,14,17,0],[17,4,17,0,"get"],[17,7,17,0],[17,18,17,0,"get"],[17,19,17,0],[18,6,17,0],[18,13,17,0,"AuthProvider"],[18,25,17,0],[19,4,17,0],[20,2,17,0],[21,2,90,0,"Object"],[21,8,90,0],[21,9,90,0,"defineProperty"],[21,23,90,0],[21,24,90,0,"exports"],[21,31,90,0],[22,4,90,0,"enumerable"],[22,14,90,0],[23,4,90,0,"get"],[23,7,90,0],[23,18,90,0,"get"],[23,19,90,0],[24,6,90,0],[24,13,90,0,"useAuth"],[24,20,90,0],[25,4,90,0],[26,2,90,0],[27,2,1,0],[27,6,1,0,"_react"],[27,12,1,0],[27,15,1,0,"require"],[27,22,1,0],[27,23,1,0,"_dependencyMap"],[27,37,1,0],[28,2,2,0],[28,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[28,42,2,0],[28,45,2,0,"require"],[28,52,2,0],[28,53,2,0,"_dependencyMap"],[28,67,2,0],[29,2,2,0],[29,6,2,0,"AsyncStorage"],[29,18,2,0],[29,21,2,0,"_interopDefault"],[29,36,2,0],[29,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,73,2,0],[30,2,3,0],[30,6,3,0,"_servicesApi"],[30,18,3,0],[30,21,3,0,"require"],[30,28,3,0],[30,29,3,0,"_dependencyMap"],[30,43,3,0],[31,2,3,42],[31,6,3,42,"_reactJsxDevRuntime"],[31,25,3,42],[31,28,3,42,"require"],[31,35,3,42],[31,36,3,42,"_dependencyMap"],[31,50,3,42],[32,2,15,0],[32,8,15,6,"AuthContext"],[32,19,15,17],[32,35,15,20],[32,39,15,20,"createContext"],[32,45,15,33],[32,46,15,33,"createContext"],[32,59,15,33],[32,61,15,63,"undefined"],[32,70,15,72],[32,71,15,73],[33,2,17,7],[33,8,17,13,"AuthProvider"],[33,20,17,25],[33,23,17,28,"AuthProvider"],[33,24,17,29],[34,4,17,31,"children"],[35,2,17,65],[35,3,17,66],[35,8,17,71],[36,4,17,71,"_s"],[36,6,17,71],[37,4,18,2],[37,10,18,8],[37,11,18,9,"user"],[37,15,18,13],[37,17,18,15,"setUser"],[37,24,18,22],[37,25,18,23],[37,28,18,26],[37,32,18,26,"useState"],[37,38,18,34],[37,39,18,34,"useState"],[37,47,18,34],[37,49,18,48],[37,53,18,52],[37,54,18,53],[38,4,19,2],[38,10,19,8],[38,11,19,9,"isLoading"],[38,20,19,18],[38,22,19,20,"setIsLoading"],[38,34,19,32],[38,35,19,33],[38,38,19,36],[38,42,19,36,"useState"],[38,48,19,44],[38,49,19,44,"useState"],[38,57,19,44],[38,59,19,45],[38,63,19,49],[38,64,19,50],[40,4,21,2],[41,4,22,2],[41,8,22,2,"useEffect"],[41,14,22,11],[41,15,22,11,"useEffect"],[41,24,22,11],[41,26,22,12],[41,32,22,18],[42,6,23,4,"loadUser"],[42,14,23,12],[42,15,23,13],[42,16,23,14],[43,4,24,2],[43,5,24,3],[43,7,24,5],[43,9,24,7],[43,10,24,8],[44,4,26,2],[44,10,26,8,"loadUser"],[44,18,26,16],[44,21,26,19],[44,27,26,19,"loadUser"],[44,28,26,19],[44,33,26,31],[45,6,27,4],[45,10,27,8],[46,8,28,6],[46,14,28,12],[46,15,28,13,"token"],[46,20,28,18],[46,22,28,20,"userData"],[46,30,28,28],[46,31,28,29],[46,34,28,32],[46,40,28,38,"AsyncStorage"],[46,52,28,50],[46,53,28,50,"default"],[46,60,28,50],[46,61,28,51,"multiGet"],[46,69,28,59],[46,70,28,60],[46,71,28,61],[46,83,28,73],[46,85,28,75],[46,96,28,86],[46,97,28,87],[46,98,28,88],[47,8,29,6],[47,12,29,10,"token"],[47,17,29,15],[47,18,29,16],[47,19,29,17],[47,20,29,18],[47,24,29,22,"userData"],[47,32,29,30],[47,33,29,31],[47,34,29,32],[47,35,29,33],[47,37,29,35],[48,10,30,8,"setUser"],[48,17,30,15],[48,18,30,16,"JSON"],[48,22,30,20],[48,23,30,21,"parse"],[48,28,30,26],[48,29,30,27,"userData"],[48,37,30,35],[48,38,30,36],[48,39,30,37],[48,40,30,38],[48,41,30,39],[48,42,30,40],[49,8,31,6],[50,6,32,4],[50,7,32,5],[50,8,32,6],[50,15,32,13,"error"],[50,20,32,18],[50,22,32,20],[51,8,33,6,"console"],[51,15,33,13],[51,16,33,14,"error"],[51,21,33,19],[51,22,33,20],[51,43,33,41],[51,45,33,43,"error"],[51,50,33,48],[51,51,33,49],[52,6,34,4],[52,7,34,5],[52,16,34,14],[53,8,35,6,"setIsLoading"],[53,20,35,18],[53,21,35,19],[53,26,35,24],[53,27,35,25],[54,6,36,4],[55,4,37,2],[55,5,37,3],[56,4,39,2],[56,10,39,8,"login"],[56,15,39,13],[56,18,39,16],[56,24,39,23,"credentials"],[56,35,39,52],[56,39,39,57],[57,6,40,4],[57,10,40,8],[58,8,41,6],[58,14,41,12,"response"],[58,22,41,20],[58,25,41,23],[58,31,41,29,"authApi"],[58,43,41,36],[58,44,41,36,"authApi"],[58,51,41,36],[58,52,41,37,"login"],[58,57,41,42],[58,58,41,43,"credentials"],[58,69,41,54],[58,70,41,55],[59,8,42,6],[59,14,42,12,"AsyncStorage"],[59,26,42,24],[59,27,42,24,"default"],[59,34,42,24],[59,35,42,25,"multiSet"],[59,43,42,33],[59,44,42,34],[59,45,43,8],[59,46,43,9],[59,58,43,21],[59,60,43,23,"response"],[59,68,43,31],[59,69,43,32,"access_token"],[59,81,43,44],[59,82,43,45],[59,84,44,8],[59,85,44,9],[59,96,44,20],[59,98,44,22,"JSON"],[59,102,44,26],[59,103,44,27,"stringify"],[59,112,44,36],[59,113,44,37,"response"],[59,121,44,45],[59,122,44,46,"user"],[59,126,44,50],[59,127,44,51],[59,128,44,52],[59,129,45,7],[59,130,45,8],[60,8,46,6,"setUser"],[60,15,46,13],[60,16,46,14,"response"],[60,24,46,22],[60,25,46,23,"user"],[60,29,46,27],[60,30,46,28],[61,6,47,4],[61,7,47,5],[61,8,47,6],[61,15,47,13,"error"],[61,20,47,23],[61,22,47,25],[62,8,48,6],[62,14,48,12],[62,18,48,16,"Error"],[62,23,48,21],[62,24,48,22,"error"],[62,29,48,27],[62,30,48,28,"response"],[62,38,48,36],[62,40,48,38,"data"],[62,44,48,42],[62,46,48,44,"detail"],[62,52,48,50],[62,56,48,54],[62,70,48,68],[62,71,48,69],[63,6,49,4],[64,4,50,2],[64,5,50,3],[65,4,52,2],[65,10,52,8,"signup"],[65,16,52,14],[65,19,52,17],[65,25,52,24,"userData"],[65,33,52,44],[65,37,52,49],[66,6,53,4],[66,10,53,8],[67,8,54,6],[67,14,54,12,"response"],[67,22,54,20],[67,25,54,23],[67,31,54,29,"authApi"],[67,43,54,36],[67,44,54,36,"authApi"],[67,51,54,36],[67,52,54,37,"register"],[67,60,54,45],[67,61,54,46,"userData"],[67,69,54,54],[67,70,54,55],[68,8,55,6],[68,14,55,12,"AsyncStorage"],[68,26,55,24],[68,27,55,24,"default"],[68,34,55,24],[68,35,55,25,"multiSet"],[68,43,55,33],[68,44,55,34],[68,45,56,8],[68,46,56,9],[68,58,56,21],[68,60,56,23,"response"],[68,68,56,31],[68,69,56,32,"access_token"],[68,81,56,44],[68,82,56,45],[68,84,57,8],[68,85,57,9],[68,96,57,20],[68,98,57,22,"JSON"],[68,102,57,26],[68,103,57,27,"stringify"],[68,112,57,36],[68,113,57,37,"response"],[68,121,57,45],[68,122,57,46,"user"],[68,126,57,50],[68,127,57,51],[68,128,57,52],[68,129,58,7],[68,130,58,8],[69,8,59,6,"setUser"],[69,15,59,13],[69,16,59,14,"response"],[69,24,59,22],[69,25,59,23,"user"],[69,29,59,27],[69,30,59,28],[70,6,60,4],[70,7,60,5],[70,8,60,6],[70,15,60,13,"error"],[70,20,60,23],[70,22,60,25],[71,8,61,6],[71,14,61,12],[71,18,61,16,"Error"],[71,23,61,21],[71,24,61,22,"error"],[71,29,61,27],[71,30,61,28,"response"],[71,38,61,36],[71,40,61,38,"data"],[71,44,61,42],[71,46,61,44,"detail"],[71,52,61,50],[71,56,61,54],[71,71,61,69],[71,72,61,70],[72,6,62,4],[73,4,63,2],[73,5,63,3],[74,4,65,2],[74,10,65,8,"logout"],[74,16,65,14],[74,19,65,17],[74,25,65,17,"logout"],[74,26,65,17],[74,31,65,29],[75,6,66,4],[75,10,66,8],[76,8,67,6],[76,14,67,12,"AsyncStorage"],[76,26,67,24],[76,27,67,24,"default"],[76,34,67,24],[76,35,67,25,"multiRemove"],[76,46,67,36],[76,47,67,37],[76,48,67,38],[76,60,67,50],[76,62,67,52],[76,73,67,63],[76,74,67,64],[76,75,67,65],[77,8,68,6,"setUser"],[77,15,68,13],[77,16,68,14],[77,20,68,18],[77,21,68,19],[78,6,69,4],[78,7,69,5],[78,8,69,6],[78,15,69,13,"error"],[78,20,69,18],[78,22,69,20],[79,8,70,6,"console"],[79,15,70,13],[79,16,70,14,"error"],[79,21,70,19],[79,22,70,20],[79,42,70,40],[79,44,70,42,"error"],[79,49,70,47],[79,50,70,48],[80,6,71,4],[81,4,72,2],[81,5,72,3],[82,4,74,2],[82,24,75,4],[82,28,75,4,"_reactJsxDevRuntime"],[82,47,75,4],[82,48,75,4,"jsxDEV"],[82,54,75,4],[82,56,75,5,"AuthContext"],[82,67,75,16],[82,68,75,17,"Provider"],[82,76,75,25],[83,6,76,6,"value"],[83,11,76,11],[83,13,76,13],[84,8,77,8,"user"],[84,12,77,12],[85,8,78,8,"isLoading"],[85,17,78,17],[86,8,79,8,"isAuthenticated"],[86,23,79,23],[86,25,79,25],[86,26,79,26],[86,27,79,27,"user"],[86,31,79,31],[87,8,80,8,"login"],[87,13,80,13],[88,8,81,8,"signup"],[88,14,81,14],[89,8,82,8,"logout"],[90,6,83,6],[90,7,83,8],[91,6,83,8,"children"],[91,14,83,8],[91,16,85,7,"children"],[92,4,85,15],[93,6,85,15,"fileName"],[93,14,85,15],[93,16,85,15,"_jsxFileName"],[93,28,85,15],[94,6,85,15,"lineNumber"],[94,16,85,15],[95,6,85,15,"columnNumber"],[95,18,85,15],[96,4,85,15],[96,11,86,26],[96,12,86,27],[97,2,88,0],[97,3,88,1],[98,2,88,2,"_s"],[98,4,88,2],[98,5,17,13,"AuthProvider"],[98,17,17,25],[99,2,17,25,"_c"],[99,4,17,25],[99,7,17,13,"AuthProvider"],[99,19,17,25],[100,2,90,7],[100,8,90,13,"useAuth"],[100,15,90,20],[100,18,90,23,"useAuth"],[100,19,90,23],[100,24,90,29],[101,4,90,29,"_s2"],[101,7,90,29],[102,4,91,2],[102,10,91,8,"context"],[102,17,91,15],[102,20,91,18],[102,24,91,18,"useContext"],[102,30,91,28],[102,31,91,28,"useContext"],[102,41,91,28],[102,43,91,29,"AuthContext"],[102,54,91,40],[102,55,91,41],[103,4,92,2],[103,8,92,6,"context"],[103,15,92,13],[103,20,92,18,"undefined"],[103,29,92,27],[103,31,92,29],[104,6,93,4],[104,12,93,10],[104,16,93,14,"Error"],[104,21,93,19],[104,22,93,20],[104,67,93,65],[104,68,93,66],[105,4,94,2],[106,4,95,2],[106,11,95,9,"context"],[106,18,95,16],[107,2,96,0],[107,3,96,1],[108,2,96,2,"_s2"],[108,5,96,2],[108,6,90,13,"useAuth"],[108,13,90,20],[109,2,90,20],[109,6,90,20,"_c"],[109,8,90,20],[110,2,90,20,"$RefreshReg$"],[110,14,90,20],[110,15,90,20,"_c"],[110,17,90,20],[111,0,90,20],[111,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadUser","login","signup","logout","useAuth"],"mappings":"AAA;4BCgB;YCK;GDE;mBEE;GFW;gBGE;GHW;iBIE;GJW;iBKE;GLO;CDgB;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}